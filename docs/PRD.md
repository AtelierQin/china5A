## 1. 项目背景与目标 (Background & Objectives)

### 1.1 背景
目前，中国国家5A级旅游景区名单主要以文字列表形式存在（如维基百科），缺乏直观的地理位置展示。旅游爱好者在规划行程或回顾旅行经历时，难以宏观地看到景点分布，也缺乏一个专门针对5A级景区的“打卡”与进度管理工具。

### 1.2 产品目标
1.  **数据可视化**：将维基百科的5A景区数据清洗后，精准投射在地图上。
2.  **个人记录**：提供用户标记“去过/想去”的功能，记录旅行时间与心得。
3.  **数据统计**：可视化展示用户的“探索进度”（如：全国完成率、各省份点亮情况）。

### 1.3 核心价值
让“旅行”变成一场可视化的“探索游戏”，量化旅行成就。

---

## 2. 用户画像 (User Personas)

*   **核心用户（你自己）**：拥有明确的旅行目标，希望通过地图直观查看哪些省份的5A景区密集，方便规划下一次行程；同时希望记录已完成的景点。
*   **扩展用户（大众旅行者）**：寻找高质量旅游目的地的人群，希望避开低质量景点，只去5A级。

---

## 3. 功能需求 (Functional Requirements)

### 3.1 核心模块：全景地图 (The Map)
这是网站的主界面。

*   **地图引擎**：建议使用 **高德地图 (AMap)** 或 **百度地图** 的Web API（因为Google Maps在中国大陆有偏移且数据不全，Mapbox需要配置中国插件）。
*   **景点标记 (Markers)**：
    *   根据经纬度在地图上显示所有5A景区。
    *   **状态区分**：
        *   *灰色图标*：未去过。
        *   *亮色/金色图标*：已打卡。
        *   *心形标记*：计划中/想去。
*   **聚合功能**：当缩放级别较小时（看全国视角），将密集的点聚合显示（例如显示数字“15”代表该区域有15个景区），防止地图过乱。
*   **筛选器**：
    *   按省份/直辖市筛选。
    *   按状态筛选（只看未去/只看已去）。

### 3.2 列表与详情 (List & Details)
*   **侧边栏/列表模式**：除了地图，提供一个可搜索的列表（同步维基百科数据）。
    *   支持字段：景区名称、所在省市、入选年份。
    *   支持排序：按入选时间倒序、按地理位置（离我最近）。
*   **详情弹窗 (Pop-up)**：点击地图标记或列表项，弹出详情卡片。
    *   基础信息：名称、封面图、简介（抓取自维基或百科）。
    *   **操作栏**：[标记为已去]、[加入心愿单]、[导航（跳转外部地图）]。
    *   扩展信息（V2.0）：当前天气、参考门票价格、官方链接。

### 3.3 用户记录系统 (Check-in System)
*   **打卡交互**：
    *   用户点击“已去过”，系统弹出简单的记录框。
    *   必填：打卡日期。
    *   选填：简短评价（1-5星）、上传一张代表性照片。
*   **数据持久化**：
    *   *MVP版本（最小可行性产品）*：使用浏览器 LocalStorage（仅本地保存，无需登录，开发成本低）。
    *   *正式版本*：账号登录系统（云端同步数据，换手机数据不丢）。

### 3.4 成就仪表盘 (Dashboard)
*   **进度条**：
    *   全国进度：例如 "已探索 25 / 330 个"。
    *   省份进度：例如 "四川省：100% 完成"。
*   **足迹地图（热力图）**：根据已打卡的地点，点亮中国地图的对应省份板块。
*   **生成分享卡片**：一键生成一张精美的图片，包含地图截图和统计数据，用于发朋友圈（例如：“我已制霸所有5A景区 10%”）。

---

## 4. 数据需求 (Data Requirements)

这是项目最关键的部分，需要从维基百科转化为结构化数据。

1.  **数据源**：https://zh.wikipedia.org/wiki/国家5A级旅游景区名单
2.  **数据清洗流程**：
    *   **Step 1 (Scraping)**: 编写脚本（Python/Node.js）爬取维基百科表格。
    *   **Step 2 (Geocoding)**: 维基百科只有地名，没有经纬度。需要调用高德/百度地图的 **地理编码 API**，将“四川省成都市青城山-都江堰旅游景区”转换为 `Lat: 30.9, Lng: 103.6`。
    *   **Step 3 (Storage)**: 存入 JSON 文件或数据库（SQLite/MySQL）。
    *   *注意*：部分景区范围很大，取主门坐标即可。

---

## 5. 技术栈推荐 (Tech Stack)

为了快速开发且保证专业性，推荐以下技术栈：

*   **前端框架**：Vue 3 或 React (配合 TypeScript)。
*   **UI 库**：Ant Design 或 Element Plus (组件丰富，开发快)。
*   **地图组件**：
    *   `Vue-AMap` (高德地图Vue组件库) 或直接调用高德 JS API 2.0。
*   **后端 (可选)**：
    *   如果是纯个人用：**无后端模式**。数据存 JSON，状态存 LocalStorage。
    *   如果想做成服务：Node.js (Koa/NestJS) + MongoDB。
    *   *推荐方案*：使用 **Supabase** 或 **LeanCloud** (BaaS)，无需自己写后端代码即可拥有数据库和账号系统。
*   **部署**：Vercel 或 GitHub Pages (免费、HTTPS、自动化)。

---

## 6. 交互设计草图 (UI Wireframe Concept)

### 页面布局
```text
+-------------------------------------------------------+
|  LOGO [5A足迹]    我的进度: 12/330    [用户头像/登录]   |
+----------------------+--------------------------------+
|  搜索景区...       |                                |
|  [筛选: 四川 x]    |                                |
|                     |                                |
|  1. 九寨沟 [已去]  |                                |
|     2015年打卡     |          地图区域               |
|                     |                                |
|  2. 峨眉山 [想去]  |       (展示中国地图)           |
|                     |        📍      📍              |
|  3. 黄龙景区       |            📍                  |
|                     |       🚩(已去是旗帜)           |
|  ...                |                                |
|                     |                                |
+----------------------+--------------------------------+
```

---

## 7. 开发路线图 (Roadmap)

### 第一阶段：MVP (最小可行性产品)
*   完成数据爬取和经纬度转换，生成 `attractions.json`。
*   搭建前端页面，加载高德地图。
*   读取 JSON 数据，在地图上渲染所有 Markers。
*   点击 Marker 显示景区名称。

### 第二阶段：交互与存储
*   添加侧边栏列表，支持搜索。
*   实现“标记状态”功能（基于 LocalStorage）。
*   Marker 颜色根据状态变化（去过变色）。

### 第三阶段：统计与优化
*   增加“仪表盘”页面，显示统计图表。
*   移动端适配（手机浏览器打开体验良好）。
*   增加“一键导航”唤起手机地图App。

---

## 8. 给开发者的特别提示 (Tips)

1.  **坐标系问题**：这是地图开发最大的坑。
    *   维基百科/国际数据通常是 **WGS-84** 坐标。
    *   高德/腾讯地图使用 **GCJ-02** (火星坐标系)。
    *   百度地图使用 **BD-09**。
    *   **解决方案**：获取经纬度时直接使用你所选地图厂商的API（例如用高德API查坐标，在显示时也用高德地图），这样能保证位置准确吻合。
2.  **数据更新**：5A景区名单虽然稳定，但每年会有新增或摘牌（极少）。建议每半年手动或脚本校对一次维基百科。
3.  **景区合并**：维基百科上有些是一项包含多个点（如“苏州园林”包含拙政园、留园等）。在地图上，你可能需要将其拆分为多个坐标点，或者取一个中心点。
